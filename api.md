<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [S4Scrawler](#s4scrawler)
    -   [constructor](#constructor)
    -   [getRoboto](#getroboto)
    -   [useCrawler](#usecrawler)
    -   [connectToES](#connecttoes)
    -   [useESIndex](#useesindex)
    -   [createESIndex](#createesindex)
    -   [crawl](#crawl)
    -   [getLinks](#getlinks)
    -   [getCurrentId](#getcurrentid)

## S4Scrawler

### constructor

Create instance of class S4Scrawler

**Parameters**

-   `none`  

### getRoboto

Get the roboto package. This allows you to use all the features of jculvey roboto package.

Returns **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** The roboto object

### useCrawler

Attach the crawler to be used

**Parameters**

-   `crawler` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** The (roboto) crawler

### connectToES

Create a connection to the Elasticsearch cluster

Returns **([Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise) \| [string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String))** A promise returning a success or an error message

### useESIndex

Set the Elasticsearch index to be used. This index must exist.

**Parameters**

-   `index` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The name of the index

Returns **([Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise) \| [string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String))** A promise returning the name of the index or an error message

### createESIndex

Create a new crawling index in Elasticsearch

**Parameters**

-   `index` **index** Name of the index

Returns **([Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise) \| [string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String))** A promise containing a success or an error message

### crawl

Crawl pages from a website starting with given url

**Parameters**

-   `siteId` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** identification of the site being crawled
-   `search` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** Used to select the links to crawl next
-   `maxLinks` **integer** Maximum number of selected links

Returns **([Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise) \| [string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String))** A promise containing a success or an error message

### getLinks

Get all outgoing links of a webpage

**Parameters**

-   `response` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** The response after requesting a webpage
-   `$` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** A cheerio object containing the response

Returns **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)** Array of links. Every link is an object containing the url (link.url) and the text of of the link (link.linkText)

### getCurrentId

Get the id of the site being crawled

Returns **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The id of the site
